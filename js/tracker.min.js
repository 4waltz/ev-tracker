var Tracker=function(e){"use strict";return e.mode=!0,e.log=[],e.stats={hp:0,atk:0,def:0,spatk:0,spdef:0,speed:0},e.modifiers={pokerus:!1,hordes:!1,brace:!1,power:!1},e.inputs=document.getElementsByClassName("ev-input"),e.buttons=document.getElementsByClassName("ev-button"),e.toggles=document.getElementsByClassName("multiplier-toggle"),e.tools=document.getElementById("help-buttons").children,e.updateValues=function(t,n){var s=t.currentTarget.parentNode.id,r=+t.currentTarget.innerHTML||-e.stats[s]+ +t.currentTarget.value,a=0,o=function(t){return Object.keys(e.stats).forEach(function(t){a+=e.stats[t]}),510>=a+t?t:510-a},u=function(t){var n=o(t),r=e.stats[s]+n;return 0>r?-e.stats[s]:r>252?252-e.stats[s]:n},i=r%1===0?u(r):0;e.stats[s]+=i,document.getElementById(s+"-bar").style.height=e.stats[s]/252*95+5+"px",document.getElementById(s+"-input").value=e.stats[s],document.getElementById("ev-total").innerHTML="EVs Remaining: "+(510-(a+i))+"/510",n||0===i||e.log.push({currentTarget:{parentNode:{id:s},innerHTML:-i}})},e.updateButtons=function(){var t=e.modifiers.pokerus?2:1,n=e.modifiers.hordes?5:1,s=e.modifiers.brace?2:1,r=e.modifiers.power?4:0,a=function(e){return"+"+(e+r)*t*n*s},o=function(e){return"+"+4*e};Object.keys(e.buttons).forEach(function(t){var n=+e.buttons[t].getAttribute("data-value");10!==n&&(e.buttons[t].innerHTML=e.mode?a(n):o(n))})},e.updateModifier=function(t){var n=t.currentTarget.id,s=function(t){switch(t){case"pokerus":break;case"brace":e.modifiers.power=!1,document.getElementById("power").className="multiplier-toggle";break;case"power":e.modifiers.brace=!1,document.getElementById("brace").className="multiplier-toggle";break;case"hordes":break;default:return!1}return!0};return s(n)?(e.modifiers[n]=!e.modifiers[n],this.className=e.modifiers[n]?"multiplier-toggle on":"multiplier-toggle",e.updateButtons()):void 0},e.updateState=function(t){var n=t.currentTarget.id;switch(n){case"mode":e.mode=!e.mode,e.updateButtons();break;case"reset":Object.keys(e.stats).forEach(function(t){e.stats[t]=0,document.getElementById(t+"-input").value=0,document.getElementById(t+"-bar").style.height=0,document.getElementById("ev-total").innerHTML="EVs Remaining: 510/510"});break;case"undo":e.log.length&&e.updateValues(e.log.pop(),!0);break;default:return!1}},e.build=function(){Object.keys(e.inputs).forEach(function(t){e.inputs[t].addEventListener("keyup",e.updateValues)}),Object.keys(e.buttons).forEach(function(t){e.self.buttons[t].addEventListener("click",e.updateValues)}),Object.keys(e.toggles).forEach(function(t){e.toggles[t].addEventListener("click",e.updateModifier)}),Object.keys(e.tools).forEach(function(t){e.tools[t].addEventListener("click",e.updateState)})},{build:e.build}}(this);document.addEventListener("DOMContentLoaded",Tracker.build);