var Tracker=function(e){"use strict";return e.mode=!0,e.log=[],e.stats={hp:0,atk:0,def:0,spatk:0,spdef:0,speed:0},e.modifiers={pokerus:!1,hordes:!1,brace:!1,power:!1},e.inputs=document.getElementsByClassName("ev-input"),e.buttons=document.getElementsByClassName("ev-button"),e.toggles=document.getElementsByClassName("multiplier-toggle"),e.tools=document.getElementById("help-buttons").children,e.updateValues=function(t,n){var r=t.currentTarget.parentNode.id,s=+t.currentTarget.innerHTML||-e.stats[r]+ +t.currentTarget.value,o=0,a=function(t){return Object.keys(e.stats).forEach(function(t){o+=e.stats[t]}),510>=o+t?t:510-o},u=function(t){var n=a(t),s=e.stats[r]+n;return 0>s?-e.stats[r]:s>252?252-e.stats[r]:n},i=s%1===0?u(s):0;e.stats[r]+=i,document.getElementById(r+"-bar").style.height=e.stats[r]/252*95+5+"px",document.getElementById(r+"-input").value=e.stats[r],document.getElementById("ev-total").innerHTML="EVs Remaining: "+(510-(o+i))+"/510",n||0===i||e.log.push({currentTarget:{parentNode:{id:r},innerHTML:-i}})},e.updateButtons=function(){var t=e.modifiers.pokerus?2:1,n=e.modifiers.hordes?5:1,r=e.modifiers.brace?2:1,s=e.modifiers.power?4:0,o=function(e){return"+"+(e+s)*t*n*r},a=function(e){return"+"+4*e};Object.keys(e.buttons).forEach(function(t){var n=+e.buttons[t].getAttribute("data-value");10!==n&&(e.buttons[t].innerHTML=e.mode?o(n):a(n))})},e.updateModifier=function(t){var n=t.currentTarget.id,r=function(t){switch(t){case"pokerus":break;case"brace":e.modifiers.power=!1,document.getElementById("power").className="multiplier-toggle";break;case"power":e.modifiers.brace=!1,document.getElementById("brace").className="multiplier-toggle";break;case"hordes":break;default:return!1}return!0};return r(n)?(e.modifiers[n]=!e.modifiers[n],this.className=e.modifiers[n]?"multiplier-toggle on":"multiplier-toggle",e.updateButtons()):void 0},e.updateState=function(t){var n=t.currentTarget.id;switch(n){case"mode":e.mode=!e.mode,document.getElementById("mode").innerHTML="Switch to "+(e.mode?"Super":"Battle")+" Training",e.updateButtons();break;case"reset":Object.keys(e.stats).forEach(function(t){e.stats[t]=0,document.getElementById(t+"-input").value=0,document.getElementById(t+"-bar").style.height=0,document.getElementById("ev-total").innerHTML="EVs Remaining: 510/510"});break;case"undo":e.log.length&&e.updateValues(e.log.pop(),!0);break;default:return!1}},e.build=function(){Object.keys(e.inputs).forEach(function(t){e.inputs[t].addEventListener("keyup",e.updateValues)}),Object.keys(e.buttons).forEach(function(t){e.self.buttons[t].addEventListener("click",e.updateValues)}),Object.keys(e.toggles).forEach(function(t){e.toggles[t].addEventListener("click",e.updateModifier)}),Object.keys(e.tools).forEach(function(t){e.tools[t].addEventListener("click",e.updateState)})},{build:e.build}}(this);document.addEventListener("DOMContentLoaded",Tracker.build);